# ╔═══════════════════════════════════════════════════════════════════════════════╗
# ║                         SWAY KEYBINDS & OPTIONS                               ║
# ╚═══════════════════════════════════════════════════════════════════════════════╝

# ═══════════════════════════════════════════════════════════════════════════════
#                                BASIC SETTINGS
# ═══════════════════════════════════════════════════════════════════════════════

# Modifier key (Super/Windows key)
set $mod Mod4

# Vim-style direction keys
set $left h
set $down j
set $up k
set $right l

# ═══════════════════════════════════════════════════════════════════════════════
#                              PREFERRED APPS
# ═══════════════════════════════════════════════════════════════════════════════

# Terminal emulator
set $term kitty

# Application launcher
set $rofi_cmd rofi \
        -terminal '$term'

# Main menu
set $menu $rofi_cmd -show drun -replace

# ═══════════════════════════════════════════════════════════════════════════════
#                                IDLE CONFIG
# ═══════════════════════════════════════════════════════════════════════════════

# Screen lock and power management
exec swayidle -w \
         timeout 300 'swaylock -f -c 000000' \
         timeout 420 'swaymsg "output * power off"' resume 'swaymsg "output * power on"' \
         timeout 600 'swaymsg "output * power on"; sleep 1; systemctl suspend' \
         before-sleep 'swaylock -f -c 000000'

set $gnome-schema org.gnome.desktop.interface

# ═══════════════════════════════════════════════════════════════════════════════
#                               SYSTEM CONTROLS
# ═══════════════════════════════════════════════════════════════════════════════

# Lock screen and logout
bindsym $mod+comma exec ~/.config/sway/scripts/lockman.sh
bindsym $mod+period exec wlogout -p layer-shell

# Volume controls
bindsym $mod+f2 exec ~/.config/sway/scripts/decreasevolume.sh
bindsym $mod+f3 exec ~/.config/sway/scripts/increasevolume.sh

# Brightness controls
bindsym $mod+f4 exec ~/.config/sway/scripts/decreasebrightness.sh
bindsym $mod+f5 exec ~/.config/sway/scripts/increasebrightness.sh

# ═══════════════════════════════════════════════════════════════════════════════
#                              SCREENSHOT TOOLS
# ═══════════════════════════════════════════════════════════════════════════════

# Full screen to clipboard
bindsym Print exec grim - | wl-copy

# Current screen to clipboard
bindsym Shift+Print exec grim -o $(swaymsg -t get_outputs | jq -r '.[] | select(.focused) | .name') - | wl-copy

# Selection to clipboard
bindsym $mod+Shift+S exec grim -g "$(slurp)" -t png - | wl-copy -t image/png

# ═══════════════════════════════════════════════════════════════════════════════
#                              DISPLAY ROTATION
# ═══════════════════════════════════════════════════════════════════════════════

bindsym $mod+F9 output eDP-1 transform 0
bindsym $mod+Ctrl+F9 output eDP-1 transform 90
bindsym $mod+Shift+F9 output eDP-1 transform 180

# ═══════════════════════════════════════════════════════════════════════════════
#                                WALLPAPERS
# ═══════════════════════════════════════════════════════════════════════════════

# Cycle through wallpapers
bindsym $mod+Shift+b exec ~/.config/sway/scripts/background-swap.sh

# ═══════════════════════════════════════════════════════════════════════════════
#                               BASIC CONTROLS
# ═══════════════════════════════════════════════════════════════════════════════

# Terminal
bindsym $mod+Return exec $term

# Kill window
bindsym $mod+q kill

# App launcher
bindsym $mod+d exec $menu

# Window switcher
bindsym $mod+p exec rofi -show window

# Clipboard manager
bindsym $mod+Shift+v exec ~/.config/sway/scripts/createclipboard.sh

# Drag floating windows with mod and left click
floating_modifier $mod normal

# Reload config
bindsym $mod+c reload

# Exit sway
bindsym $mod+Shift+e exec swaynag -t warning -m 'You pressed the exit shortcut. Do you really want to exit sway? This will end your Wayland session.' -B 'Yes, exit sway' 'swaymsg exit'

# ═══════════════════════════════════════════════════════════════════════════════
#                                FOCUS MOVEMENT
# ═══════════════════════════════════════════════════════════════════════════════

# Vim-style focus movement
bindsym $mod+$left focus left
bindsym $mod+$down focus down
bindsym $mod+$up focus up
bindsym $mod+$right focus right

# Arrow key focus movement
bindsym $mod+Left focus left
bindsym $mod+Down focus down
bindsym $mod+Up focus up
bindsym $mod+Right focus right

# ═══════════════════════════════════════════════════════════════════════════════
#                               WINDOW MOVEMENT
# ═══════════════════════════════════════════════════════════════════════════════

# Vim-style window movement
bindsym $mod+Shift+$left move left
bindsym $mod+Shift+$down move down
bindsym $mod+Shift+$up move up
bindsym $mod+Shift+$right move right

# Arrow key window movement
bindsym $mod+Shift+Left move left
bindsym $mod+Shift+Down move down
bindsym $mod+Shift+Up move up
bindsym $mod+Shift+Right move right

# ═══════════════════════════════════════════════════════════════════════════════
#                                WORKSPACES
# ═══════════════════════════════════════════════════════════════════════════════

# Switch to workspace
bindsym $mod+1 workspace number 1
bindsym $mod+2 workspace number 2
bindsym $mod+3 workspace number 3
bindsym $mod+4 workspace number 4
bindsym $mod+5 workspace number 5
bindsym $mod+6 workspace number 6
bindsym $mod+7 workspace number 7
bindsym $mod+8 workspace number 8
bindsym $mod+9 workspace number 9
bindsym $mod+0 workspace number 10

# Move container to workspace
bindsym $mod+Shift+1 move container to workspace number 1
bindsym $mod+Shift+2 move container to workspace number 2
bindsym $mod+Shift+3 move container to workspace number 3
bindsym $mod+Shift+4 move container to workspace number 4
bindsym $mod+Shift+5 move container to workspace number 5
bindsym $mod+Shift+6 move container to workspace number 6
bindsym $mod+Shift+7 move container to workspace number 7
bindsym $mod+Shift+8 move container to workspace number 8
bindsym $mod+Shift+9 move container to workspace number 9
bindsym $mod+Shift+0 move container to workspace number 10

# ═══════════════════════════════════════════════════════════════════════════════
#                                LAYOUTS
# ═══════════════════════════════════════════════════════════════════════════════

# Split containers
bindsym $mod+b splith
bindsym $mod+v splitv

# Layout styles
bindsym $mod+e layout toggle split
bindsym $mod+s layout stacking
bindsym $mod+w layout tabbed

# Fullscreen
bindsym $mod+f fullscreen

# Floating toggle
bindsym $mod+Shift+space floating toggle

# Focus toggle
bindsym $mod+space focus mode_toggle

# Focus parent
bindsym $mod+a focus parent

# ═══════════════════════════════════════════════════════════════════════════════
#                                SCRATCHPAD
# ═══════════════════════════════════════════════════════════════════════════════

# Move to scratchpad
bindsym $mod+Shift+minus move scratchpad

# Show/hide scratchpad
bindsym $mod+minus scratchpad show
# ═══════════════════════════════════════════════════════════════════════════════
#                               RESIZE MODE
# ═══════════════════════════════════════════════════════════════════════════════

bindsym $mod+r mode "resize"
mode "resize" {
    # Vim-style resize
    bindsym $up resize shrink height 10px
    bindsym $right resize grow width 10px
    bindsym $left resize shrink width 10px
    bindsym $down resize grow height 10px

    # Arrow key resize
    bindsym Up resize shrink height 10px
    bindsym Right resize grow width 10px
    bindsym Left resize shrink width 10px
    bindsym Down resize grow height 10px

    # Exit resize mode
    bindsym Return mode "default"
    bindsym Escape mode "default"
    bindsym $mod+r mode "default"
}

# ═══════════════════════════════════════════════════════════════════════════════
#                              APP SHORTCUTS
# ═══════════════════════════════════════════════════════════════════════════════

# File manager
bindsym $mod+n exec nautilus

# Web browser
bindsym $mod+o exec brave-browser